# kubectl proxy設定用環境変数

# プロキシサーバーの設定
PROXY_ADDRESS=0.0.0.0
PROXY_PORT=8001
ACCEPT_HOSTS=.*
LOG_LEVEL=2

# Kubernetesクラスター接続設定
K8S_ORIGINAL_SERVER=https://127.0.0.1:55420
K8S_TARGET_SERVER=https://host.docker.internal:55420
INSECURE_SKIP_TLS=true

# kubeconfigディレクトリの設定
KUBECONFIG_DIR=/tmp/.kube

# kubeconfigファイルのパス（Windows用）
KUBECONFIG_PATH=C:\Users\user\.kube\config

# kubeconfigファイルのパス（Linux/Mac用）
# KUBECONFIG_PATH=${HOME}/.kube/config

# ヘルスチェックの設定
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3

# CRD定義用環境変数
# CRD基本設定
CRD_GROUP=example.com
CRD_VERSION=v1
CRD_KIND=Website
CRD_PLURAL=websites
CRD_SINGULAR=website
CRD_SHORT_NAME=ws
CRD_SCOPE=Namespaced

# リソース1の設定（sample-website）
RESOURCE_NAME=sample-website
RESOURCE_NAMESPACE=hoge
RESOURCE_URL=https://example.com
RESOURCE_REPLICAS=3
RESOURCE_PORT=443
RESOURCE_SSL=true
RESOURCE_ENVIRONMENT=production
RESOURCE_PHASE=Running
RESOURCE_READY_STATUS=True
RESOURCE_REASON=WebsiteReady
RESOURCE_MESSAGE="Website is ready and running"
RESOURCE_TIMESTAMP=2025-12-31T08:00:00Z

# リソース2の設定（test-website）
RESOURCE_NAME2=test-website
RESOURCE_ENVIRONMENT2=development
RESOURCE_URL2=http://test.local
RESOURCE_REPLICAS2=1
RESOURCE_PORT2=80
RESOURCE_SSL2=false
RESOURCE_PHASE2=Pending
RESOURCE_READY_STATUS2=False
RESOURCE_REASON2=WebsitePending
RESOURCE_MESSAGE2="Website is being created"

# Ansible用環境変数
# Ansibleからkubectl-proxyへの接続設定
PROXY_URL=http://kubectl-proxy:8001
PROXY_PROTOCOL=http
# SSL証明書検証の設定（本番環境ではyesを推奨）
VALIDATE_CERTS=no

# HTTPS設定（オプション）
# HTTPSを有効化する場合は以下を設定し、docker compose --profile https up で起動
ENABLE_HTTPS=false
HTTPS_PORT=8443
CERT_DIR=/tmp/certs
# HTTPS有効時のAnsible設定
# PROXY_URL=https://kubectl-proxy-https:8443
# PROXY_PROTOCOL=https
