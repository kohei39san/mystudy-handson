paths:
  /health:
    get:
      summary: ヘルスチェック
      description: |
        APIサービスの稼働状況を確認します。
        認証は不要で、システムの基本的な状態を返します。
      operationId: getHealth
      security: []  # 認証不要
      tags:
        - Health
      responses:
        '200':
          description: サービスが正常に稼働中
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'
              example:
                status: "healthy"
                timestamp: "2024-01-01T00:00:00Z"
                service: "apigateway-rest-api"
                version: "1.0.0"
                environment: "dev"
        '500':
          description: サーバーエラー
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-amazon-apigateway-integration:
        type: aws_proxy
        httpMethod: POST
        uri: "arn:aws:apigateway:{{AWS_REGION}}:lambda:path/2015-03-31/functions/{{BACKEND_LAMBDA_ARN}}/invocations"
        credentials: "{{API_GATEWAY_ROLE_ARN}}"
        passthroughBehavior: when_no_match
        contentHandling: CONVERT_TO_TEXT
        timeoutInMillis: 29000
        requestTemplates:
          application/json: |
            {
              "path": "/health",
              "httpMethod": "$context.httpMethod"
            }
