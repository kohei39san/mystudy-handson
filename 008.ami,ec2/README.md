# EC2インスタンスからのAMI作成と複製

このTerraform構成は、EC2インスタンスを作成し、そのインスタンスからAMIを作成して別のリージョンに複製します。また、シンプルなLambda関数もCloudFormationを使用してデプロイします。

## リソース構成

### ネットワークリソース
- 設定可能なCIDRブロックを持つVPC
- パブリックサブネット（設定可能なCIDRブロック）
- インターネットゲートウェイ
- インターネットゲートウェイへのルートを持つルートテーブル
- クライアントのIPアドレスからのSSHアクセスを許可するセキュリティグループ

### コンピューティングリソース
- EC2インスタンス:
  - 設定可能なAMIとインスタンスタイプ
  - サブネットに接続されたネットワークインターフェース
  - 設定可能なサイズのルートブロックデバイス
  - IAMインスタンスプロファイルが接続されている

### AMIリソース
- EC2インスタンスからAMIを作成
- 作成したAMIを大阪リージョン（ap-northeast-3）に複製

### IAMリソース
- EC2インスタンス用のIAMロール（SSM管理インスタンスコアポリシー付き）
- IAMインスタンスプロファイル

### Lambdaリソース
- シンプルな「Hello World」Lambda関数をデプロイするCloudFormationスタック
- 基本的なログ記録権限を持つLambda実行ロール

## マルチリージョン構成
- 東京リージョン（ap-northeast-1）がプライマリリージョン
- 大阪リージョン（ap-northeast-3）にAMIを複製

## 使用方法

このリソース構成をデプロイするには、メインのREADME.mdファイルの手順に従ってください。