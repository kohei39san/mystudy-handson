<mxfile host="65bd71144e">
    <diagram name="RSS要約Lambda構成" id="RSS-Lambda-Architecture">
        <mxGraphModel dx="1456" dy="804" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                
                <!-- AWS Cloud Container -->
                <mxCell id="aws-cloud" value="AWS Cloud" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud_alt;strokeColor=#232F3E;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#232F3E;dashed=0;" vertex="1" parent="1">
                    <mxGeometry x="80" y="80" width="680" height="500" as="geometry"/>
                </mxCell>
                
                <!-- EventBridge -->
                <mxCell id="eventbridge" value="EventBridge&#xa;(スケジュール実行)" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.eventbridge;" vertex="1" parent="aws-cloud">
                    <mxGeometry x="50" y="80" width="78" height="78" as="geometry"/>
                </mxCell>
                
                <!-- Lambda Function -->
                <mxCell id="lambda-function" value="Lambda関数&#xa;(RSS要約処理)" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" vertex="1" parent="aws-cloud">
                    <mxGeometry x="250" y="80" width="78" height="78" as="geometry"/>
                </mxCell>
                
                <!-- IAM Role -->
                <mxCell id="iam-role" value="IAMロール&#xa;(Lambda実行ロール)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#DD344C;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.role;" vertex="1" parent="aws-cloud">
                    <mxGeometry x="450" y="99" width="70.91" height="40" as="geometry"/>
                </mxCell>
                
                <!-- SSM Parameter Store -->
                <mxCell id="ssm-parameter" value="SSM Parameter Store&#xa;(APIキー・Webhook URL)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#E7157B;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.parameter_store;" vertex="1" parent="aws-cloud">
                    <mxGeometry x="250" y="220" width="75" height="78" as="geometry"/>
                </mxCell>
                
                <!-- CloudWatch Logs -->
                <mxCell id="cloudwatch-logs" value="CloudWatch Logs&#xa;(実行ログ)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#E7157B;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.cloudwatch_logs;" vertex="1" parent="aws-cloud">
                    <mxGeometry x="450" y="220" width="78" height="58" as="geometry"/>
                </mxCell>
                
                <!-- External RSS Feed -->
                <mxCell id="rss-feed" value="外部RSSフィード&#xa;(AWS新機能情報)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.data_stream;" vertex="1" parent="1">
                    <mxGeometry x="50" y="300" width="78" height="78" as="geometry"/>
                </mxCell>
                
                <!-- OpenRouter API -->
                <mxCell id="openrouter-api" value="OpenRouter API&#xa;(AI要約サービス)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.client;" vertex="1" parent="1">
                    <mxGeometry x="450" y="400" width="78" height="76" as="geometry"/>
                </mxCell>
                
                <!-- Slack -->
                <mxCell id="slack" value="Slack&#xa;(通知先)" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.chat;" vertex="1" parent="1">
                    <mxGeometry x="650" y="400" width="78" height="68" as="geometry"/>
                </mxCell>
                
                <!-- Connections -->
                <!-- EventBridge to Lambda -->
                <mxCell id="connection1" value="定期実行トリガー" style="endArrow=classic;html=1;rounded=0;fontColor=#232F3E;strokeColor=#232F3E;" edge="1" parent="aws-cloud" source="eventbridge" target="lambda-function">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="150" y="200" as="sourcePoint"/>
                        <mxPoint x="200" y="150" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                
                <!-- Lambda to SSM -->
                <mxCell id="connection2" value="パラメータ取得" style="endArrow=classic;html=1;rounded=0;fontColor=#232F3E;strokeColor=#232F3E;" edge="1" parent="aws-cloud" source="lambda-function" target="ssm-parameter">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="150" y="250" as="sourcePoint"/>
                        <mxPoint x="200" y="200" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                
                <!-- Lambda to CloudWatch -->
                <mxCell id="connection3" value="ログ出力" style="endArrow=classic;html=1;rounded=0;fontColor=#232F3E;strokeColor=#232F3E;" edge="1" parent="aws-cloud" source="lambda-function" target="cloudwatch-logs">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="350" y="200" as="sourcePoint"/>
                        <mxPoint x="400" y="150" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                
                <!-- Lambda to RSS Feed -->
                <mxCell id="connection4" value="RSSフィード取得" style="endArrow=classic;html=1;rounded=0;fontColor=#232F3E;strokeColor=#232F3E;" edge="1" parent="1" source="lambda-function" target="rss-feed">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="250" y="300" as="sourcePoint"/>
                        <mxPoint x="300" y="250" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                
                <!-- Lambda to OpenRouter -->
                <mxCell id="connection5" value="AI要約リクエスト" style="endArrow=classic;html=1;rounded=0;fontColor=#232F3E;strokeColor=#232F3E;" edge="1" parent="1" source="lambda-function" target="openrouter-api">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="400" y="300" as="sourcePoint"/>
                        <mxPoint x="450" y="250" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                
                <!-- Lambda to Slack -->
                <mxCell id="connection6" value="要約結果送信" style="endArrow=classic;html=1;rounded=0;fontColor=#232F3E;strokeColor=#232F3E;" edge="1" parent="1" source="lambda-function" target="slack">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="500" y="300" as="sourcePoint"/>
                        <mxPoint x="550" y="250" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                
                <!-- Schedule Expression Label -->
                <mxCell id="schedule-label" value="スケジュール: cron(0 9 ? * MON-FRI *)&#xa;平日午前9時に実行" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#232F3E;" vertex="1" parent="1">
                    <mxGeometry x="80" y="40" width="250" height="40" as="geometry"/>
                </mxCell>
                
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>