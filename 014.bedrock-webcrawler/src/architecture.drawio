<mxfile host="65bd71144e">
    <diagram name="Bedrock ナレッジベース構成" id="Wp9Tot8XLC37BgMdsrnz">
        <mxGraphModel dx="1456" dy="804" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                
                <!-- Title -->
                <mxCell id="title" value="Bedrock ナレッジベース構成" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1;fontSize=16;" vertex="1" parent="1">
                    <mxGeometry x="300" y="10" width="220" height="30" as="geometry"/>
                </mxCell>
                
                <!-- EventBridge -->
                <mxCell id="eventbridge" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#E7157B;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.eventbridge;" vertex="1" parent="1">
                    <mxGeometry x="100" y="100" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="eventbridge-label" value="EventBridge&#xa;スケジューラー" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
                    <mxGeometry x="84" y="185" width="110" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Lambda Function -->
                <mxCell id="lambda" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#ED7D31;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.lambda;" vertex="1" parent="1">
                    <mxGeometry x="300" y="100" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="lambda-label" value="Lambda関数&#xa;(クローラー)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
                    <mxGeometry x="289" y="185" width="100" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Bedrock -->
                <mxCell id="bedrock" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#01A88D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.bedrock;" vertex="1" parent="1">
                    <mxGeometry x="500" y="100" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="bedrock-label" value="Amazon Bedrock&#xa;(Titan Embed Text v2)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
                    <mxGeometry x="464" y="185" width="150" height="40" as="geometry"/>
                </mxCell>
                
                <!-- OpenSearch -->
                <mxCell id="opensearch" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#8C4FFF;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.opensearch_service;" vertex="1" parent="1">
                    <mxGeometry x="300" y="300" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="opensearch-label" value="OpenSearch&#xa;(ベクトルDB)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
                    <mxGeometry x="284" y="385" width="110" height="40" as="geometry"/>
                </mxCell>
                
                <!-- CloudWatch Logs -->
                <mxCell id="cloudwatch" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.cloudwatch;" vertex="1" parent="1">
                    <mxGeometry x="100" y="300" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="cloudwatch-label" value="CloudWatch&#xa;ログ" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
                    <mxGeometry x="99" y="385" width="80" height="40" as="geometry"/>
                </mxCell>
                
                <!-- IAM Role -->
                <mxCell id="iam" value="" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#759C3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.iam_role;" vertex="1" parent="1">
                    <mxGeometry x="500" y="300" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="iam-label" value="IAMロール&#xa;(権限管理)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=10;" vertex="1" parent="1">
                    <mxGeometry x="489" y="385" width="100" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Connections -->
                <mxCell id="eventbridge-lambda" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1" source="eventbridge" target="lambda">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="200" y="150" as="sourcePoint"/>
                        <mxPoint x="250" y="100" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="eventbridge-lambda-label" value="定期実行" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=9;" vertex="1" parent="1">
                    <mxGeometry x="200" y="120" width="60" height="30" as="geometry"/>
                </mxCell>
                
                <mxCell id="lambda-bedrock" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1" source="lambda" target="bedrock">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="400" y="150" as="sourcePoint"/>
                        <mxPoint x="450" y="100" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lambda-bedrock-label" value="API呼び出し" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=9;" vertex="1" parent="1">
                    <mxGeometry x="395" y="120" width="80" height="30" as="geometry"/>
                </mxCell>
                
                <mxCell id="bedrock-opensearch" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#666666;strokeWidth=2;" edge="1" parent="1" source="bedrock" target="opensearch">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="450" y="200" as="sourcePoint"/>
                        <mxPoint x="400" y="250" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="bedrock-opensearch-label" value="ベクトル保存" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=9;" vertex="1" parent="1">
                    <mxGeometry x="410" y="230" width="80" height="30" as="geometry"/>
                </mxCell>
                
                <mxCell id="lambda-cloudwatch" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#666666;strokeWidth=2;dashed=1;" edge="1" parent="1" source="lambda" target="cloudwatch">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="250" y="200" as="sourcePoint"/>
                        <mxPoint x="200" y="250" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="lambda-cloudwatch-label" value="ログ出力" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=9;" vertex="1" parent="1">
                    <mxGeometry x="190" y="230" width="70" height="30" as="geometry"/>
                </mxCell>
                
                <mxCell id="iam-lambda" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#666666;strokeWidth=2;dashed=1;" edge="1" parent="1" source="iam" target="lambda">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="450" y="280" as="sourcePoint"/>
                        <mxPoint x="400" y="200" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="iam-lambda-label" value="権限付与" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=9;" vertex="1" parent="1">
                    <mxGeometry x="410" y="200" width="60" height="30" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>